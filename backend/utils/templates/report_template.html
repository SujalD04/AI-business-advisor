<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Startup Growth Report</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 40px;
      color: #2C3E50;
      background-color: #f8f9fa;
    }
    h1 {
      text-align: center;
      color: #1a73e8;
      margin-bottom: 40px;
    }
    h2 {
      color: #34495E;
      border-bottom: 3px solid #1a73e8;
      padding-bottom: 6px;
      margin-top: 40px;
    }
    h3 {
      color: #1a73e8;
      margin-top: 25px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th {
      background-color: #1a73e8;
      color: white;
      text-align: left;
      padding: 10px;
    }
    td {
      padding: 10px;
      background-color: #ffffff;
    }
    .recommendations {
      margin: 20px 0;
      padding: 15px;
      background-color: #eef4fb;
      border-left: 6px solid #1a73e8;
      border-radius: 6px;
    }
    .recommendations ul {
      margin: 0;
      padding-left: 20px;
    }
    .chart {
      text-align: center;
      margin: 25px 0;
    }
    .chart img {
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 5px;
      background-color: #fff;
    }
    .page-break {
      page-break-after: always;
    }
  </style>
</head>
<body>
  <h1>ðŸš€ Startup Growth Report</h1>

  {% for s in startups %}
  <div class="startup">
    <h2>{{ s.name }}</h2>

    <!-- Overview Table -->
    <table>
      <tr><th>Industry</th><td>{{ s.industry }}</td></tr>
      <tr><th>Stage</th><td>{{ s.stage }}</td></tr>
      <tr><th>Revenue</th><td>${{ "{:,.2f}".format(s.revenue) }}</td></tr>
      <tr><th>Costs</th><td>${{ "{:,.2f}".format(s.costs) }}</td></tr>
      <tr><th>Marketing Spend</th><td>${{ "{:,.2f}".format(s.marketing_spend) }}</td></tr>
      <tr><th>Churn Rate</th><td>{{ "{:.1f}".format(s.churn_rate) }}%</td></tr>
      <tr><th>Predicted Growth</th><td>{{ "{:.2f}".format(s.predicted_growth) }}</td></tr>
      <tr><th>Cluster</th><td>{{ s.cluster }}</td></tr>
    </table>

    <!-- Recommendations -->
    <div class="recommendations">
      <h3>ðŸ“Œ Recommendations</h3>
      <ul>
      {% for r in s.recommendations %}
        <li>{{ r }}</li>
      {% endfor %}
      </ul>
    </div>

    <!-- Charts -->
    <div class="chart">
      <h3>Financial Breakdown</h3>
      <img src="data:image/png;base64,{{ s.charts.financial }}" width="500">
    </div>
    <div class="chart">
      <h3>Growth Projection</h3>
      <img src="data:image/png;base64,{{ s.charts.growth }}" width="500">
    </div>
    <div class="chart">
      <h3>Marketing Efficiency vs Churn</h3>
      <img src="data:image/png;base64,{{ s.charts.marketing_vs_churn }}" width="500">
    </div>
  </div>
  <div class="page-break"></div>
  {% endfor %}
</body>
</html>
